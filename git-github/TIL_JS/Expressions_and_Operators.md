# 연산자(Operator)

#### 문과 표현식

- 표현식: 하나의 값으로 평가될수 있는 문(Statement)
  - 표현식은 변수에 할당할 수 있어야된다.
- literal은 소스 코드 안에서 직접 만들어낸 고정 값 자체로,  값이 될수 있고, 표현식이 될수도 있다. 하지만 모든 표현식은 리터럴이아니다. 
  - ex: var score = 50 + 50;
- 문(Statement): 하나 이상의 표현식과 키워드의 조합으로 구성된 엔진에게 내리는 명령.
  - Semicolon(;)으로 끝나는것들은 다 문. 표현식 문(할당문): x=5; 
  - 문에는 표현식인문(변수에 할당할 수 있는 문(값))과 표현식이 아닌문(변수에 할당할수 없는 문)이 있음.
  - 문의 끝에는 Semicolon을 붙이지만 안붙여도된다. Engine이 소스코드를 해석할때, 자동적으로 문의 끝으로 예측되는 곳에 붙여준다(세미콜론 자동 삽입 기능(ASI, automatic semicolon insertion)). 하지만 자동삽입기능의 예측과 개발자의 예측이 다를수 있기떄문에 잘 붙히자.



#### 표현식인 문, 표현식이 아닌 문

- 변수에 할당할수 있냐 없냐 차이로, 할당이 가능하면 표현식, 불가능하면 표현식이 아니다.



#### 연산자

* 연산자는 산술, 할당, 비교, 논리, 타입, 지수 연산(operation)등을 수행해 하나의 값을 만든다.
* 연산의 대상을 피연산자(Operand)라 한다.

- 피연산자도 평가되어 하나의 값이 되므로 표현식이고, 피연산자를 연산자와 결합한 연산자 표현식도 평가되어 하나의 값이 되므로 표현식이다.

  - 5 * 4 

- **이항 산술 연산자**: 2개의 피연산자를 산술 연산하여 숫자 타입의 값을 만듬.

- **단항 산술 연산자**:1개의 피연산자를 연산하여 값을 만듬. ++, --는 피연산자의 값을 변경하는 부수 효과가 있다.

  - 위치에 의미가있다- 피연산자 앞/뒤에 위치함에 따라 선할당 후증가/감소, 선증가/감소 후할당.

  - 증가/감소(++/--) 연산자는 피연산자의 값을 변경하는 **부수 효과**가 있다.

  - 증가/감소 연산자도 내부적으로 연산 결과를 피연산자에게 재할당하는것이다.

  - +,- 단항연산자는 피연산자에 아무효과도 없다. 대신 암묵적으로 타입변환(Implicit coercion) 또는 강제 타입 변환(Type coercion)을 시킨다.

    - 문자열을 숫자타입으로 변환한다. +'10'; = 10
    - 문자는 숫자타입으로 변환 안됨으로 NaN됨. +'Hello'; = NaN
    - 불리언 값을 숫자 타입으로 변환. +true; = 1; +false; = 0;
    - +연산자는 피연산자중 하나 이상이 문자열일 경우 문자열 연결 연산자로 동작한다. 하나가 문자열이면 반대껏도 문자열로 취급한다.

    

#### 할당 연산자(Assignment Operator)

- 우항의 피연산자 평가 결과를 좌항에 있는 변수에 전달한다.

- 변수에 값을 할당하므로 값이 변하는 부수 효과가 있다.

  - =, +=, -=, *=, /=, %= 등 있다.

  - 문자열 연결도 가능: var str = 'My name is '; str += 'Lee'

    console.log(str); *My name is Lee*

- 할당문은 표현식인 문이다. ex) x = 10;

  - 연쇄 할당이 가능하다. var a, b, c;
  - a = b = c = 0;
  - 이렇게 하는것보다 하나하나 할당하는게 가독성이 높다.



#### 비교 연산자(Comparison Operator)

- ==사용금지(동등 비교(loose equality). ==는 타입을 같게 변환해서 비교하므로 타입이 달라도 값이 같으면 동등하다고(true) 판단한다. 
- ===(일치비교(strict equality)). ===는 값과 타입까지 일치해야 동등하다고(true) 판단한다.
- != 부동등 비교(loose) = x와 y의 값이 다르다.
- !== 불일치 비교(strict) = x 와 y의 값과 타입이 다르다.
- 대소 관계 비교 연산자: >, <, >=, <= 사용, true/false 반환.



#### 삼항 조건 연산자(ternary operator)

- 조건식의 평가 결과에 따라 반환할 값을 결정.

- 부수 효과가 없고 물음표(?)로 조건식을 만든다.

- 조건식의 평가 결과가 Boolean값이 아니면 Boolean으로 암묵적 타입 변환.

  - var x = 2; ('true' : 'false')

    // 2 % 2는 0이고 0은 false로 암묵적 타입 변환된다.
    var result = x % 2 ? '홀수' : '짝수';

    console.log(result); // 짝수

* 조건식 ? 'true면 반환값' : 'false면 반환값; // 0은 false로 뒤쪽값 반환.

- 삼항 조건 현산자 표현식은 값으로 평가할 수 있는 표현식인 문.



#### 논리 연산자

- 좌항과 우항의 피연산자를 논리 연산한다.
  - || = OR (논리합, 둘중 하나)
  - && = AND (논리곱, 둘다)
  - ! = NOT (부정, 아니다)
- 빈 문자열이 아니면 True라고 본다. 빈 문자열은 False다.
- 논리합(||) 연산자와 논리곱(&&) 연산자의 연산결과는 불리언값이 아닐수도 있다.
  - **논리곱/논리합 연산자는 논리 평가를 결정한 피연산자를 그래도 반환한다.** 이를 **단축 평가(Short-Circuit evaluation)**라 한다.
    - true || anything = true
    - false || anything = false
    - true && anything = anything
    - false && anything = false

- 드 모르간의 법칙: !(x || y) === (!x && !y)

  ​								!(x && y) === (!x || !y)



#### 쉼표 연산자

-  x = 1, y = 2, z = 3



#### 그룹 연산자

-  (...)는 표현식에서 가장 먼저 평가된다. 우선순위 조절.



#### typeof 연산자

- 변수에 할당되어있는 **타입의 값**을 확인하여 반환해준다.
  - 반환값이 문자열로 나온다.
  - string, number, boolean, undefined, symbol, function etc.
  - null값은 typeof 연산을하면 object가 나오는데, 이건 버그다.



#### 지수 연산자

- ES7에 새롭게 도입되었다.
- 우항의 피연산자를 지수로 거듭 제곱하고 숫자 타입의 값을 반환한다.
  - 5 ** 2; // => 25
- 음수를 거듭제곱 하려면 괄호로 묶어야 한다.
  - (-5) ** 2; // => 25
- 할당 연산자와 함께 사용할 수 있다.
  - var num = 5; num **= 2; // => 25
- 지수 연산자는 모든 이항 연산자보다 우선 순위가 높다.
  - 2 * 5 ** 2; // => 50